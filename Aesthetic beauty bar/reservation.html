<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointment Booking</title>

   <!-- Include Email.js script -->
   <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
   <script>
       (function () {
           emailjs.init("icqmRlxR4p_7mvR3P");
       })();
   </script>

    <style>
        /* Styles as before... */

         /* Header Section */
    .header {
        background-color: #fff;
        padding: 20px;
        text-align: center;
    }

    .header .logo {
        font-size: 24px;
        text-decoration: none;
        color: #333;
        font-weight: bold;
    }

    .header .btn {
        display: inline-block;
        margin-top: 10px;
        padding: 8px 20px;
        text-decoration: none;
        background-color: #FF5E78;
        color: #fff;
        border-radius: 5px;
        font-weight: bold;
        transition: background-color 0.3s ease;
    }

    .header .btn:hover {
        background-color: #FF3E50;
    }
/* Navbar Styles */
.navbar {
    display: flex;
    justify-content: center;
    background-color: #fff;
    padding: 10px;
    margin-top: 20px;
}

.navbar ul {
    list-style: none;
    display: flex;
    margin: 0;
    padding: 0;
}

.navbar li {
    margin: 0 10px;
}

.navbar a {
    text-decoration: none;
    color: #333;
    padding: 10px 20px;
    font-weight: bold;
    transition: color 0.3s ease;
}

.navbar a:hover {
    color: #FF5E78;
}


        body {
            font-family: 'Arial', sans-serif;
            background-color: #FFBDD5;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        form {
            max-width: 400px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        label {
            display: block;
            margin-bottom: 10px;
            color: #FF5E78;
            font-weight: bold;
        }

        input,
        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            box-sizing: border-box;
            border: 1px solid #FF5E78;
            border-radius: 5px;
        }

        button {
            background-color: #FF5E78;
            color: #fff;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #FF3E50;
        }
        /* Footer Section */
    .footer {
        background-color: #333;
        color: #fff;
        padding: 30px 0;
        text-align: center;
    }

    .box-container {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
    }

    .box {
        flex: 1;
        max-width: 300px;
        margin: 15px;
    }

    .box a {
        text-decoration: none;
        color: #fff;
        display: block;
        margin-bottom: 10px;
        line-height: 1.5;
    }

    .box i {
        margin-right: 10px;
    }

    .box .fas {
        color: #FF5E78; /* Icon color */
    }

    .social-icons a {
        color: #fff;
        margin: 0 10px;
        font-size: 18px;
        text-decoration: none;
        transition: color 0.3s ease;
    }

    .social-icons a:hover {
        color: #FF5E78; /* Hover color */
    }

    .credit {
        margin-top: 20px;
        font-size: 14px;
    }

    </style>
</head>

<!-- Header Section -->
<section class="header">
    <div class="flex">
        <a href="#home" class="logo">BODY BEAUTY CLINIC & AESTHETICS</a>
        <a href="#availability" class="btn">Check Availability</a>
        <div id="menu-btn" class="fas fa-bars"></div>
    </div>
 
    <nav class="navbar">
        <ul>
            <a href="home.html">Home</a>
            <a href="about.html">About Us</a>
            <a href="reservation.html">Reservation</a>
            <a href="contact.html">Contact Us</a>
            <a href="gallery.html">Gallery</a>

            
        </ul>
        
    </nav>
</section>
<!-- Header Section Ends -->

<!-- Welcome Message Section -->
<div class="beauty-bar">
    <p></p>
</div>

<body>
     <!-- Booking Form -->
     <form onsubmit="submitForm(event)" id="bookingForm">
        <!-- Form fields as before... -->
<label for="FirstName">First Name:</label>
        <input type="text" id="firstName" name="firstName" required>

        <label for="lastName">Last Name:</label>
        <input type="text" id="lastName" name="lastName" required>

        <label for="phoneNumber">Phone Number:</label>
        <input type="tel" id="phoneNumber" name="phoneNumber" pattern="[0-9]{10}" required>

        <label for="serviceType">Type of Service:</label>
        <select id="serviceType" name="serviceType" required>
            <option value="1">ENERGY BOOSTER - R800</option>
            <option value="2">IMMUNE BOOSTER - R650</option>
            <option value="3">SKIN RADIENCE - R800</option>
            <option value="4">GLOW DRIP - R800</option>
            <option value="5">COLLAGEN ANTI-AGEING - R700</option>
            <option value="6">ACNE - R500</option>
            <option value="7">JET-FUEL - R850</option>
            <option value="8">JET-LAG - R800</option>
            <option value="9">DETOX DRIP - R600</option>
            <option value="10">FERTILITY BOOSTER - R750</option>
            <option value="11">LIBIDO BOOSTER - R600</option>
            <option value="12">WEIGHT LOSS ACCELERATOR - R600</option>
            <option value="13">SPORTS VITALITY RECOVER - R800</option>
            <option value="14">REHYDRATION DRIP - R300</option>
            <option value="15">VITAMIN BCO - R150</option>
            <option value="16">VITAMIN C</option>
            <option value="17">5 LIPO INJECTIONS - R450</option>
            <option value="18">10 LIPO INJECTIONS - R800</option>
            <option value="19">15 LIPO INJECTIONS - R1300</option>
        </select>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>

        <label for="appointmentDate">Date:</label>
        <input type="date" id="appointmentDate" name="appointmentDate" required>

        <label for="appointmentTime">Time:</label>
        <select id="appointmentTime" name="appointmentTime" required>
            <!-- JavaScript will populate the time slots -->
        </select>



        <div id="message"></div>

        <button type="button" onclick="submitForm()">Book Appointment</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const timeSelect = document.getElementById('appointmentTime');
            const startTime = new Date('1970-01-01T08:00:00');
            const endTime = new Date('1970-01-01T17:00:00');
            const interval = 30 * 60 * 1000; // 30 minutes in milliseconds
        
            for (let time = startTime.getTime(); time < endTime.getTime(); time += interval) {
                const option = document.createElement('option');
                option.value = new Date(time).toISOString().substr(11, 5);
                option.textContent = new Date(time).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                timeSelect.appendChild(option);
            }
        });
        
        function submitForm() {
            const form = document.getElementById('bookingForm');
            const messageDiv = document.getElementById('message');
            messageDiv.innerHTML = ''; // Clear previous messages
        
            const firstName = form.firstName.value;
            const lastName = form.lastName.value;
            const phoneNumber = form.phoneNumber.value;
            const serviceType = form.serviceType.options[form.serviceType.selectedIndex].text;
            const selectedTime = form.appointmentTime.value;
            const selectedDate = form.appointmentDate.value;
        
            // Simulate checking if the time slot is available
            const isSlotAvailable = checkAvailability(firstName, lastName, phoneNumber, selectedTime, selectedDate);
        
            if (isSlotAvailable) {
                const confirmationMessage = `Booking confirmed for ${firstName} ${lastName} (${phoneNumber}) for ${serviceType} on ${selectedDate} at ${selectedTime}`;
                messageDiv.textContent = confirmationMessage;
                console.log(confirmationMessage);
        
                // Compose the email message
                const emailMessage = `Booking confirmed for ${firstName} ${lastName} (${phoneNumber}) for ${serviceType} on ${selectedDate} at ${selectedTime}`;
        
                // Send email using Email.js
        emailjs.send("service_n5sdoep", "template_yxbx9vz", {
            message: emailMessage,
            to_email: form.email.value // Assuming you have an email input field in your form
        }).then(
            function (response) {
                console.log("Email sent successfully:", response);
                alert("Reservation confirmed! A confirmation email has been sent to your email address.");
                // You can add additional logic here, e.g., clear the form
                form.reset();
            },
            function (error) {
                console.error("Email failed to send:", error);
                alert("Failed to confirm the reservation. Please try again later.");
            }
                );
            } else {
                messageDiv.textContent = 'Sorry, the selected time slot is not available. Please choose another time.';
            }
        }
        
        function checkAvailability(firstName, lastName, phoneNumber, selectedTime, selectedDate) {
            // Implement your logic to check if the time slot is available
            // For demonstration, assuming 3 people can book at the same time
            const bookedSlots = ['08:00', '08:30', '09:00']; // Example booked slots
        
            const selectedDateTime = `${selectedDate}T${selectedTime}`;
            const bookedDateTime = bookedSlots.map(slot => `${selectedDate}T${slot}`);
        
            const isAvailable = !bookedDateTime.includes(selectedDateTime);
        
            // For demonstration purposes, add logic to handle booking confirmation
            if (isAvailable) {
                // Implement logic to store the booking
                // For now, let's just console.log it
                console.log(`Booking confirmed for ${firstName} ${lastName} (${phoneNumber}) on ${selectedDate} at ${selectedTime}`);
            }
        
            return isAvailable;
        }
        </script>
        
 
            
        
    </script>

    </form>
 
</body>


</html>
